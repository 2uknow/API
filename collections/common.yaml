# 공통 설정 파일
# 모든 YAML 테스트 파일에서 공통으로 사용할 변수와 설정

# 기본 변수들
variables:
  # 다날 기본 설정
  MERCHANT_ID: "A010002002"
  MERCHANT_PWD: "bbbbb"
  SERVICE_NAME: "TELEDIT"
  USER_ID: "kmhwang"
  EMAIL: "2uknow@danal.co.kr"
  
  # 동적 변수들
  ORDER_ID: "{{js: 'ORD' + Date.now() + '_' + Math.floor(Math.random() * 1000)}}"
  DYNAMIC_PREFIX: "{{js: new Date().getHours() > 12 ? 'PM' : 'AM'}}"
  TIMESTAMP: "{{$timestamp}}"
  RANDOM_ID: "{{$randomId}}"
  
  # 테스트 환경 설정
  TEST_AMOUNT: "1000"
  IPADDR: "10.10.52.54"

# 공통 테스트 옵션
options:
  stopOnError: false
  timeout: 15000
  retryCount: 0

# 공통 추출 패턴
common_extracts:
  basic_response:
    - name: "result"
      pattern: "Result"
      variable: "RESULT_CODE"
    - name: "serverInfo"
      pattern: "ServerInfo" 
      variable: "SERVER_INFO"
    - name: "errMsg"
      pattern: "ErrMsg"
      variable: "ERROR_MSG"

# 공통 테스트 케이스
common_tests:
  success_tests:
    - name: "결과 코드 정상 확인"
      assertion: "RESULT_CODE == 0"
    - name: "에러 메시지 정상 확인"
      assertion: "ERROR_MSG == No Information"
  
  server_info_tests:
    - name: "서버 정보 존재 확인"
      assertion: "js: SERVER_INFO && SERVER_INFO.length > 0"

# 통신사별 설정
carriers:
  SKT:
    IDEN: "9002051"
    DST_ADDR: "01046911117"
    CARRIER: "SKT"
  KT:
    IDEN: "9003051"
    DST_ADDR: "01046911118" 
    CARRIER: "KT"
  LGU:
    IDEN: "9005051"
    DST_ADDR: "01046911119"
    CARRIER: "LG U+"

# 결제 수단별 설정 (예시)
payment_methods:
  CARD:
    TYPE: "CREDIT"
    FEE: "100"
    PROCESSOR: "VISA"
  BANK:
    TYPE: "TRANSFER" 
    FEE: "50"
    PROCESSOR: "KB"

# 서버 환경별 설정 (예시)
servers:
  DEV:
    HOST: "dev.api.danal.co.kr"
    PORT: "8080"
    SSL: "false"
  PROD:
    HOST: "api.danal.co.kr" 
    PORT: "443"
    SSL: "true"